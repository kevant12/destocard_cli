{% extends 'base.html.twig' %}

{% block title %}Mes conversations{% endblock %}

{% block body %}
<div class="container">
    <h1>Mes conversations</h1>
    {% if conversations is empty %}
        <p>Vous n'avez pas encore de conversation.</p>
    {% else %}
        <ul>
            {% for conversation in conversations %}
                <li>
                    <a href="{{ path('app_message_conversation', {'id': conversation.otherUser.id}) }}">
                        {{ conversation.otherUser.firstname }} {{ conversation.otherUser.lastname }} ({{ conversation.otherUser.email }})
                        {% if conversation.unreadCount > 0 %}
                            <span class="badge bg-danger">{{ conversation.unreadCount }}</span>
                        {% endif %}
                    </a>
                </li>
            {% endfor %}
        </ul>
    {% endif %}
</div>
{% endblock %} 