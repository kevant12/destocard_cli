<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Destocard - Cartes Pok√©mon{% endblock %}</title>
        <meta name="description" content="{% block meta_description %}Votre boutique sp√©cialis√©e pour acheter et vendre des cartes Pok√©mon.{% endblock %}">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        {# Open Graph / Social Media Tags #}
        {% block open_graph %}
            <meta property="og:title" content="{% block og_title %}{{ block('title') }}{% endblock %}">
            <meta property="og:description" content="{% block og_description %}{{ block('meta_description') }}{% endblock %}">
            <meta property="og:type" content="website">
            <meta property="og:url" content="{{ app.request.uri }}">
            <meta property="og:image" content="{{ absolute_url(asset('images/logo-destocard.png')) }}"> {# Remplacez par le chemin de votre image par d√©faut #}
            <meta property="og:image:alt" content="Logo Destocard - Boutique de cartes Pok√©mon">
            {# Twitter Card (similaire √† Open Graph) #}
            <meta name="twitter:card" content="summary_large_image">
            <meta name="twitter:title" content="{% block twitter_title %}{{ block('og_title') }}{% endblock %}">
            <meta name="twitter:description" content="{% block twitter_description %}{{ block('og_description') }}{% endblock %}">
            <meta name="twitter:image" content="{{ absolute_url(asset('images/logo-destocard.png')) }}">
        {% endblock %}
        
        
        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>‚ö´Ô∏è</text><text y=%221.3em%22 x=%220.2em%22 font-size=%2276%22 fill=%22%23fff%22>sf</text></svg>">

        {# Les fichiers CSS #}
        <link rel="stylesheet" href="{{ asset('css/style.css')}}">
        {% block stylesheets %}{% endblock %}

        {# Javascripts #}
        <script src="{{ asset('js/nav.js') }}" defer></script>
        <script src="{{ asset('js/csrf-protection.js') }}" defer></script>
        <script src="{{ asset('js/ajax.js') }}" defer></script>
        {% block javascripts %}{% endblock %}

    {# Schema.org JSON-LD for WebSite and Organization #}
        <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@graph": [
            {
              "@type": "WebSite",
              "@id": "{{ app.request.schemeAndHttpHost }}/#website",
              "url": "{{ app.request.schemeAndHttpHost }}/",
              "name": "Destocard",
              "description": "{{ block('meta_description') }}",
              "publisher": {
                "@id": "{{ app.request.schemeAndHttpHost }}/#organization"
              },
              "inLanguage": "fr-FR"
            },
            {
              "@type": "Organization",
              "@id": "{{ app.request.schemeAndHttpHost }}/#organization",
              "name": "Destocard",
              "url": "{{ app.request.schemeAndHttpHost }}/",
              "logo": {
                "@type": "ImageObject",
                "url": "{{ absolute_url(asset('images/logo-destocard.png')) }}",
                "width": "300", {# Remplacez par la largeur r√©elle de votre logo #}
                "height": "auto" {# Remplacez par la hauteur r√©elle de votre logo #}
              },
              "sameAs": [
                "https://twitter.com/votre_compte_twitter", {# Remplacez par vos vrais liens sociaux #}
                "https://facebook.com/votre_compte_facebook"
              ]
            }
          ]
        }
        </script>
    </head>
    <body>
        <header class="site-header">
            <div class="container">
                <a href="{{ path('app_home') }}" class="site-header__logo">
                    <img src="{{ asset('media/images/logo2redim.png') }}" alt="Logo Destocard">
                </a>

                <nav class="site-header__nav-main">
                    <a href="{{ path('app_home') }}">Accueil</a>
                    {% if app.user %}
                        <a href="{{ path('app_product_index') }}">Produits</a>
                    {% endif %}
                </nav>

                <nav class="site-header__nav-user">
                    {% if app.user %}
                        <a href="{{ path('app_user_products') }}">Mes Articles</a>
                        <a href="{{ path('app_message_index') }}">Messages</a>
                        <a href="{{ path('cart') }}" title="Panier">üõí</a>
                        <a href="{{ path('app_logout') }}" class="btn btn--secondary">D√©connexion</a>
                    {% else %}
                        <a href="{{ path('app_login') }}" class="btn btn--secondary">Connexion</a>
                        <a href="{{ path('app_register') }}" class="btn btn--primary">Inscription</a>
                    {% endif %}
                </nav>
            </div>
        </header>

        <main>
            <div class="container">
                {% for label, messages in app.flashes %}
                    {% for message in messages %}
                        <div class="flash-message flash-message--{{ label }}">
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endfor %}
            </div>
            {% block body %}{% endblock %}
        </main>

       <footer class="site-footer">
            <div class="container">
                <div class="site-footer__content">
                    <div class="footer-section">
                        <h3>Destocard</h3>
                        <p>Votre boutique sp√©cialis√©e en cartes Pok√©mon.</p>
                    </div>
                    <div class="footer-section">
                        <h3>Liens utiles</h3>
                        <ul>
                            <li><a href="#">√Ä propos</a></li>
                            <li><a href="#">Conditions g√©n√©rales</a></li>
                            <li><a href="#">FAQ</a></li>
                        </ul>
                    </div>
                    <div class="footer-section">
                        <h3>Contact</h3>
                        <ul>
                            <li><a href="mailto:contact@destocard.fr">contact@destocard.fr</a></li>
                        </ul>
                    </div>
                </div>
                <div class="site-footer__bottom">
                    &copy; {{ "now"|date("Y") }} Destocard. Tous droits r√©serv√©s.
                </div>
            </div>
        </footer>

        <nav class="mobile-nav">
            <a href="{{ path('app_home') }}" class="mobile-nav__link" title="Accueil">üè†</a>
            <a href="{{ path('app_product_index') }}" class="mobile-nav__link" title="Produits">üÉè</a>
            {% if app.user %}
                 <a href="{{ path('app_product_new') }}" class="mobile-nav__link" title="Vendre">‚ûï</a>
                <a href="{{ path('app_message_index') }}" class="mobile-nav__link" title="Messages">‚úâÔ∏è</a>
                <a href="#" class="mobile-nav__link" title="Profil">üë§</a>
            {% else %}
                <a href="{{ path('app_login') }}" class="mobile-nav__link" title="Connexion">üë§</a>
            {% endif %}
        </nav>
    </body>
</html>
